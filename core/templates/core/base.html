{% load static %}
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Portfolio{% endblock %}</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- AOS (Animate On Scroll) -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'core/styles.css' %}">
    {% block extra_head %}{% endblock %}
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Navbar -->
    <nav id="main-navbar" class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="{% url 'home' %}">Moje Portfolio</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <button class="btn btn-outline-light ms-3" id="themeToggle">
              
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
            <a class="nav-link" href="{% url 'dashboard' %}">Dashboard</a>
            <a class="nav-link" href="{% url 'projects' %}">Projekty</a>
            <li class="nav-item"><a class="nav-link" href="{% url 'contact' %}">Kontakt</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- G贸wna tre -->
    <div id="page-wrapper">

    {% block content %}{% endblock %}
    </div>
    <!-- Bootstrap JS + Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
    {% block extra_js %}{% endblock %}
    <script src="{% static 'core/theme.js' %}"></script>
<!-- Tw贸j istniejcy JS i bootstrap/AOS tutaj -->

<script>
document.addEventListener("DOMContentLoaded", () => {
    const body = document.body;
    let navbarVisible = false;

    function showNavbar() {
        body.classList.add("nav-open");
        navbarVisible = true;
    }

    function hideNavbar() {
        body.classList.remove("nav-open");
        navbarVisible = false;
    }

    // Ukryj przy scrollu w d贸
    window.addEventListener("scroll", () => {
        if (window.scrollY > 5 && navbarVisible) {
            hideNavbar();
        }
    });

    //  Wykrywanie pr贸by scrolla w g贸r NA SAMEJ GRZE
    window.addEventListener("wheel", (e) => {
        if (window.scrollY <= 1 && e.deltaY < 0 && !navbarVisible) {
            showNavbar();
        }
    });

    // Obsuga telefonu
    let touchStartY = 0;

    window.addEventListener("touchstart", (e) => {
        touchStartY = e.touches[0].clientY;
    });

    window.addEventListener("touchmove", (e) => {
        const touchCurrentY = e.touches[0].clientY;

        if (window.scrollY <= 1 && touchCurrentY > touchStartY && !navbarVisible) {
            showNavbar();
        }

        touchStartY = touchCurrentY;
    });
});
</script>



</body>
</html>
