{% load static %}
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Portfolio{% endblock %}</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- AOS (Animate On Scroll) -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'core/styles.css' %}">
    {% block extra_head %}{% endblock %}
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Navbar -->
    <nav id="main-navbar" class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="{% url 'home' %}">Moje Portfolio</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <button class="btn btn-outline-light ms-3" id="themeToggle">
              ðŸŒ™
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
            <a class="nav-link" href="{% url 'dashboard' %}">Dashboard</a>
            <a class="nav-link" href="{% url 'projects' %}">Projekty</a>
            <li class="nav-item"><a class="nav-link" href="{% url 'contact' %}">Kontakt</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- GÅ‚Ã³wna treÅ›Ä‡ -->
    <div id="page-wrapper">
      <div id="nav-toggle" class="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
    </div>
    {% block content %}{% endblock %}
    </div>
    <!-- Bootstrap JS + Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
    {% block extra_js %}{% endblock %}
    <script src="{% static 'core/theme.js' %}"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const toggle = document.getElementById("nav-toggle");

            toggle.addEventListener("click", () => {
                document.body.classList.toggle("nav-open");
            });
        });
    </script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const navToggle = document.getElementById("nav-toggle");
    const navbar = document.getElementById("main-navbar");
    const body = document.body;

    if (!navToggle || !navbar) return;

    let isOpen = false;

    function openNavbar() {
        body.classList.add("nav-open");
        navToggle.classList.add("hidden");
        isOpen = true;
    }

    function closeNavbar() {
        body.classList.remove("nav-open");
        navToggle.classList.remove("hidden");
        isOpen = false;
    }

    // ðŸ” klik hamburgera
    navToggle.addEventListener("click", openNavbar);

    // ðŸ”— klik linku
    document.querySelectorAll("#main-navbar a").forEach(link => {
        link.addEventListener("click", closeNavbar);
    });

    // ðŸ–±ï¸ AUTO-ZAMYKANIE PRZY SCROLLU
    let lastScroll = window.scrollY;

    window.addEventListener("scroll", () => {
        if (!isOpen) return;

        const currentScroll = window.scrollY;

        if (Math.abs(currentScroll - lastScroll) > 10) {
            closeNavbar();
        }

        lastScroll = currentScroll;
    });
});
</script>





</body>
</html>
